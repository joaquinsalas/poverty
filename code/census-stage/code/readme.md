---
title: Mesh-level finetuning (CPV 2020) â€” NN, SVR, XGB, Ensembles, SHAP
description: Reproducible scripts to finetune classical + NN regressors for poverty indicators on the 469m meshgrid.
---

# Mesh-level finetuning (CPV 2020)

This page contains the code for:

1. `finetune_nn_2020_mesh.py`
2. `finetune_svr_2020_mesh.py`
3. `finetune_xgb_2020_mesh.py`
4. `finetune_ensemble_nn_2020_mesh.py`
5. `xgb_feature_selector_SHAP_2020_mesh.py`
6. `finetune_xgb_2020_feat_sel_mesh.py`

---

## Repo layout

repo/
docs/
index.md (this file)
data/
inegi_coneval_dataset_2020_common_mesh_20240905.csv
shap_feature_importance_calidad_vivienda_2020.csv (generated by SHAP script)
models/ (created automatically)
figures/ (created automatically)
src/
finetune_nn_2020_mesh.py
finetune_svr_2020_mesh.py
finetune_xgb_2020_mesh.py
finetune_ensemble_nn_2020_mesh.py
xgb_feature_selector_SHAP_2020_mesh.py
finetune_xgb_2020_feat_sel_mesh.py


> All scripts assume relative paths `../data`, `../models`, `../figures` from inside `src/`.

---

## Quick run

From `repo/src/`:

```bash
python finetune_xgb_2020_mesh.py
python finetune_svr_2020_mesh.py
python finetune_nn_2020_mesh.py
python finetune_ensemble_nn_2020_mesh.py
python xgb_feature_selector_SHAP_2020_mesh.py
python finetune_xgb_2020_feat_sel_mesh.py



Outputs

data/nn_results_30_splits.csv
data/svr_results_30_splits.csv
data/xgb_results_30_splits.csv
data/ensemble_nn_results_30_repeats_per_response_20250627.csv
data/shap_values_<response>.csv, data/shap_feature_importance_<response>.csv
figures/shap_beeswarm_plot_<response>.png, figures/shap_summary_plot_<response>.png




